---
layout: post
title:  C++构造函数
date:   2019-05-12 00:00:00 +0800
categories: document
tag: C/C++
---

* content
{:toc}


### 构造函数

+ 无论何时，只要类的对象被创建，构造函数就会被执行
+ 构造函数不能被声明成const的
+ 使用构造函数初始值是个好习惯
### 默认构造函数
+ 不接受实参
+ 如果一个构造函数为所有参数提供了默认实参，实际上定义了默认构造函数
### 合成的默认构造函数
+ 当编译器发现类内不包含任何构造函数，才会合成默认构造函数
+ 如果存在类内初始值，则用其初始化对象；否则执行默认初始化

### 委托构造函数
+ 使用所属类其它构造函数执行自己的初始化
```cpp
Sales_data(std::string s,unsigned cnt,double price):
			bookNo(s),units_sold(cnt),revenue(cnt*price) {}
//委托构造函数：
Sales_data():Sales_data("",0,0){}
```
### explicit构造函数
+ 声明为 explicit 抑制构造函数的隐式转换
+ 只能以直接初始化形式使用

### 拷贝构造函数
```cpp
class Foo{
public:
	Foo;//默认构造函数
	Foo(const Foo&);//拷贝构造函数
};
```
+ 第一个参数是自身类类型的引用，且其他参数都有默认值
 
### 合成拷贝构造函数
+ 如果我们没有定义拷贝构造函数，则由编译器定义

### 析构函数
+ 合成析构函数不会delete一个指针数据成员和静态数据成员
+ 如果一个类需要自定义析构函数，几乎可以肯定它也需要自定义拷贝赋值运算符和拷贝构造函数


>参考资料：*C++ primer 5th*
